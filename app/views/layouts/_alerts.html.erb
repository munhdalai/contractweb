<% flash.each do |key, value| %>
  <%
    class_name = (case key when 'notice' then 'success' when 'alert' then 'danger' else key end)
    if value.kind_of?(String)
      value = [value]
    elsif value.kind_of?(Array)
    else
      next
    end
  %>
    <% value.each do |v| %>
      <div class="alert alert-<%= class_name %> alert-dismissible">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        <%= v %>
      </div>
    <% end %>
<% end %>